{"version":3,"sources":["assets/script/framework/ui/UIFrame.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,sCAAiC;AACjC,uCAAkC;AAQ5B,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAC1C,IAAM,aAAa,GAAG,SAAS,CAAA;AAG/B;IAAqC,2BAAY;IAAjD;QAAA,qEAoEC;QAnEG,8CAA8C;QAE9C,iBAAW,GAAG,CAAC,CAAC;QAEhB,oBAAc,GAAY,EAAE,CAAC;QAC7B,YAAM,GAAY,EAAE,CAAC;;IA8DzB,CAAC;IAzDG;;OAEG;IACW,cAAM,GAApB;QACI,OAAO,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC;IAC1C,CAAC;IAED;;OAEG;IACW,eAAO,GAArB;QACI,OAAO,IAAI,CAAC,SAAS,CAAC;IAC1B,CAAC;IAED;;;OAGG;IACH,wBAAM,GAAN;QACI,mCAAmC;IACvC,CAAC;IAED;;;;OAIG;IACH,4BAAU,GAAV,UAAW,MAAkB;QAAE,kBAAiB;aAAjB,UAAiB,EAAjB,qBAAiB,EAAjB,IAAiB;YAAjB,iCAAiB;;QAC5C,uCAAuC;QACvC,IAAG,MAAM,IAAI,IAAI,EAAC;YACd,MAAM,EAAE,CAAC;SACZ;IACL,CAAC;IAED;;;OAGG;IACH,wBAAM,GAAN;QAAO,cAAa;aAAb,UAAa,EAAb,qBAAa,EAAb,IAAa;YAAb,yBAAa;;IAEpB,CAAC;IAED;;OAEG;IACH,yBAAO,GAAP;QACI,eAAK,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;IACrC,CAAC;IAES,4BAAU,GAApB,UAAwC,OAAoB;QAAE,cAAa;aAAb,UAAa,EAAb,qBAAa,EAAb,IAAa;YAAb,6BAAa;;QACvE,kBAAQ,CAAC,WAAW,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IACrD,CAAC;IAES,6BAAW,GAArB,UAAyC,OAAoB;QACzD,gFAAgF;QAChF,kBAAQ,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;IAChD,CAAC;IAhED;QADC,QAAQ,CAAC,EAAE,CAAC,OAAO,CAAC;gDACL;IAHC,OAAO;QAD3B,OAAO;OACa,OAAO,CAoE3B;IAAD,cAAC;CApED,AAoEC,CApEoC,EAAE,CAAC,SAAS,GAoEhD;kBApEoB,OAAO","file":"","sourceRoot":"/","sourcesContent":["import TKLog from \"../log/TKLog\";\nimport UIModule from \"./UIModule\";\n\nexport interface UIClass<T extends UIFrame> {\n    new(): T;\n    getUrl(): string;\n    getName(): string;\n}\n\nconst {ccclass, property} = cc._decorator;\nconst PREFAB_UI_DIR = \"prefab/\"\n\n@ccclass\nexport default class UIFrame extends cc.Component {\n    // 所在pannel的索引，从0开始，如果超出UIRoot的pannel范围，则用0号索引\n    @property(cc.Integer)\n    PannelIndex = 0;\n\n    UITemplateName : string = \"\";\n    UIName : string = \"\";\n\n    protected static prefabUrl: string;\n    protected static className: string;\n\n    /**\n     * 获取prefab路径，相对于resources目录\n     */\n    public static getUrl(): string {\n        return PREFAB_UI_DIR + this.prefabUrl;\n    }\n\n    /**\n     * 获取类名，用于给UI命名\n     */\n    public static getName(): string {\n        return this.className;\n    }\n\n    /**\n     * 初始化，会在加载完成后调用\n     * 只会调用一次\n     */\n    OnInit(){\n        // TKLog.LogInfo(\"UIFrame OnInit\");\n    }\n\n    /**\n     * 在实际打开之前先执行\n     * @param doOpen 在打开之前先执行一些不可告人的事情\n     * @param openArgs 参数\n     */\n    BeforeOpen(doOpen ?: Function, ...openArgs : any){\n        // TKLog.LogInfo(\"UIFrame BeforeOpen\");\n        if(doOpen != null){\n            doOpen();\n        }\n    }\n\n    /**\n     * 在打开窗口时显示\n     * @param args 参数\n     */\n    OnOpen(...args : any){\n\n    }\n\n    /**\n     * 在关闭窗口时执行\n     */\n    OnClose(){\n        TKLog.LogInfo(\"UIFrame OnClose\");\n    }\n\n    protected OpenWindow<T extends UIFrame>(uiClass : UIClass<T>, ...args : any){\n        UIModule.getInstance().OpenWindow(uiClass, args);\n    }\n\n    protected CloseWindow<T extends UIFrame>(uiClass : UIClass<T>){\n        //UIModule.getInstance().CloseWindow(uiName.length == 0 ? this.UIName : uiName);\n        UIModule.getInstance().CloseWindow(uiClass);\n    }\n}\n"]}