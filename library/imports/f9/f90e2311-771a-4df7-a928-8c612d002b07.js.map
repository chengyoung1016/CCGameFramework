{"version":3,"sources":["assets/script/framework/utils/list/List.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property, disallowMultiple, menu, executionOrder, requireComponent } = cc._decorator;\n\nimport ListItem from './ListItem';\n\nenum TemplateType {\n    NODE = 1,\n    PREFAB = 2,\n}\n\nenum SlideType {\n    NORMAL = 1,//\n    ADHERING = 2,//\n    PAGE = 3,//\n}\n\nenum SelectedType {\n    NONE = 0,\n    SINGLE = 1,//\n    MULT = 2,//\n}\n\n@ccclass\n@disallowMultiple()\n@menu('/List')\n@requireComponent(cc.ScrollView)\n// 0  0  onLoad, onEnable, start, update  lateUpdate  onDisable  onDestroy \n@executionOrder(-5000)\nexport default class List extends cc.Component {\n    //\n    @property({ type: cc.Enum(TemplateType), tooltip: CC_DEV && '', })\n    private templateType: TemplateType = TemplateType.NODE;\n    //ItemNode\n    @property({\n        type: cc.Node,\n        tooltip: CC_DEV && 'Item',\n        visible() { return this.templateType == TemplateType.NODE; }\n    })\n    tmpNode: cc.Node = null;\n    //ItemPrefab\n    @property({\n        type: cc.Prefab,\n        tooltip: CC_DEV && 'Item',\n        visible() { return this.templateType == TemplateType.PREFAB; }\n    })\n    tmpPrefab: cc.Prefab = null;\n    //\n    @property()\n    private _slideMode: SlideType = SlideType.NORMAL;\n    @property({\n        type: cc.Enum(SlideType),\n        tooltip: CC_DEV && ''\n    })\n    set slideMode(val: SlideType) {\n        this._slideMode = val;\n    }\n    get slideMode() {\n        return this._slideMode;\n    }\n    //\n    @property({\n        type: cc.Float,\n        range: [0, 1, .1],\n        tooltip: CC_DEV && '',\n        slide: true,\n        visible() { return this._slideMode == SlideType.PAGE; }\n    })\n    public pageDistance: number = .3;\n    //\n    @property({\n        type: cc.Component.EventHandler,\n        tooltip: CC_DEV && '',\n        visible() { return this._slideMode == SlideType.PAGE; }\n    })\n    private pageChangeEvent: cc.Component.EventHandler = new cc.Component.EventHandler();\n    //\n    @property()\n    private _virtual: boolean = true;\n    @property({\n        type: cc.Boolean,\n        tooltip: CC_DEV && ''\n    })\n    set virtual(val: boolean) {\n        if (val != null)\n            this._virtual = val;\n        if (!CC_DEV && this._numItems != 0) {\n            this._onScrolling();\n        }\n    }\n    get virtual() {\n        return this._virtual;\n    }\n    //\n    @property({\n        tooltip: CC_DEV && '',\n        visible() {\n            let val: boolean = this.virtual && this.slideMode == SlideType.NORMAL;\n            if (!val)\n                this.cyclic = false;\n            return val;\n        }\n    })\n    public cyclic: boolean = false;\n    //\n    @property({\n        tooltip: CC_DEV && 'ItemContentItemGrid',\n        visible() { return this.virtual; }\n    })\n    public lackCenter: boolean = false;\n    //\n    @property({\n        tooltip: CC_DEV && 'ItemContent',\n        visible() {\n            let val: boolean = this.virtual && !this.lackCenter;\n            if (!val)\n                this.lackSlide = false;\n            return val;\n        }\n    })\n    public lackSlide: boolean = false;\n    //\n    @property({ type: cc.Integer })\n    private _updateRate: number = 0;\n    @property({\n        type: cc.Integer,\n        range: [0, 6, 1],\n        tooltip: CC_DEV && '',\n        slide: true,\n    })\n    set updateRate(val: number) {\n        if (val >= 0 && val <= 6) {\n            this._updateRate = val;\n        }\n    }\n    get updateRate() {\n        return this._updateRate;\n    }\n    //Item<=0\n    @property({\n        type: cc.Integer,\n        range: [0, 12, 1],\n        tooltip: CC_DEV && 'Item<=0',\n        slide: true,\n    })\n    public frameByFrameRenderNum: number = 0;\n    //\n    @property({\n        type: cc.Component.EventHandler,\n        tooltip: CC_DEV && '',\n    })\n    private renderEvent: cc.Component.EventHandler = new cc.Component.EventHandler();\n    //\n    @property({\n        type: cc.Enum(SelectedType),\n        tooltip: CC_DEV && ''\n    })\n    public selectedMode: SelectedType = SelectedType.NONE;\n    @property({\n        tooltip: CC_DEV && '',\n        visible() { return this.selectedMode == SelectedType.SINGLE; }\n    })\n    public repeatEventSingle: boolean = false;\n    //\n    @property({\n        type: cc.Component.EventHandler,\n        tooltip: CC_DEV && '',\n        visible() { return this.selectedMode > SelectedType.NONE; }\n    })\n    private selectedEvent: cc.Component.EventHandler = null//new cc.Component.EventHandler();\n    //id\n    private _selectedId: number = -1;\n    private _lastSelectedId: number;\n    private multSelected: number[];\n    set selectedId(val: number) {\n        let t: any = this;\n        let item: any;\n        switch (t.selectedMode) {\n            case SelectedType.SINGLE: {\n                if (!t.repeatEventSingle && val == t._selectedId)\n                    return;\n                item = t.getItemByListId(val);\n                // if (!item && val >= 0)\n                //     return;\n                let listItem: ListItem;\n                if (t._selectedId >= 0)\n                    t._lastSelectedId = t._selectedId;\n                else //0_lastSelectedId\n                    t._lastSelectedId = null;\n                t._selectedId = val;\n                if (item) {\n                    listItem = item.getComponent(ListItem);\n                    listItem.selected = true;\n                }\n                if (t._lastSelectedId >= 0 && t._lastSelectedId != t._selectedId) {\n                    let lastItem: any = t.getItemByListId(t._lastSelectedId);\n                    if (lastItem) {\n                        lastItem.getComponent(ListItem).selected = false;\n                    }\n                }\n                if (t.selectedEvent) {\n                    cc.Component.EventHandler.emitEvents([t.selectedEvent], item, val % this._actualNumItems, t._lastSelectedId == null ? null : (t._lastSelectedId % this._actualNumItems));\n                }\n                break;\n            }\n            case SelectedType.MULT: {\n                item = t.getItemByListId(val);\n                if (!item)\n                    return;\n                let listItem = item.getComponent(ListItem);\n                if (t._selectedId >= 0)\n                    t._lastSelectedId = t._selectedId;\n                t._selectedId = val;\n                let bool: boolean = !listItem.selected;\n                listItem.selected = bool;\n                let sub: number = t.multSelected.indexOf(val);\n                if (bool && sub < 0) {\n                    t.multSelected.push(val);\n                } else if (!bool && sub >= 0) {\n                    t.multSelected.splice(sub, 1);\n                }\n                if (t.selectedEvent) {\n                    cc.Component.EventHandler.emitEvents([t.selectedEvent], item, val % this._actualNumItems, t._lastSelectedId == null ? null : (t._lastSelectedId % this._actualNumItems), bool);\n                }\n                break;\n            }\n        }\n    }\n    get selectedId() {\n        return this._selectedId;\n    }\n    private _forceUpdate: boolean = false;\n    private _align: number;\n    private _horizontalDir: number;\n    private _verticalDir: number;\n    private _startAxis: number;\n    private _alignCalcType: number;\n    public content: cc.Node;\n    private firstListId: number;\n    public displayItemNum: number;\n    private _updateDone: boolean = true;\n    private _updateCounter: number;\n    public _actualNumItems: number;\n    private _cyclicNum: number;\n    private _cyclicPos1: number;\n    private _cyclicPos2: number;\n    //\n    @property({\n        serializable: false\n    })\n    private _numItems: number = 0;\n    set numItems(val: number) {\n        let t = this;\n        if (!t.checkInited(false))\n            return;\n        if (val == null || val < 0) {\n            cc.error('numItems set the wrong::', val);\n            return;\n        }\n        t._actualNumItems = t._numItems = val;\n        t._forceUpdate = true;\n\n        if (t._virtual) {\n            t._resizeContent();\n            if (t.cyclic) {\n                t._numItems = t._cyclicNum * t._numItems;\n            }\n            t._onScrolling();\n            if (!t.frameByFrameRenderNum && t.slideMode == SlideType.PAGE)\n                t.curPageNum = t.nearestListId;\n        } else {\n            let layout: cc.Layout = t.content.getComponent(cc.Layout);\n            if (layout) {\n                layout.enabled = true;\n            }\n            t._delRedundantItem();\n\n            t.firstListId = 0;\n            if (t.frameByFrameRenderNum > 0) {\n                //\n                let len: number = t.frameByFrameRenderNum > t._numItems ? t._numItems : t.frameByFrameRenderNum;\n                for (let n: number = 0; n < len; n++) {\n                    t._createOrUpdateItem2(n);\n                }\n                if (t.frameByFrameRenderNum < t._numItems) {\n                    t._updateCounter = t.frameByFrameRenderNum;\n                    t._updateDone = false;\n                }\n            } else {\n                for (let n: number = 0; n < val; n++) {\n                    t._createOrUpdateItem2(n);\n                }\n                t.displayItemNum = val;\n            }\n        }\n    }\n    get numItems() {\n        return this._actualNumItems;\n    }\n\n    private _inited: boolean = false;\n    private _scrollView: cc.ScrollView;\n    get scrollView() {\n        return this._scrollView;\n    }\n    private _layout: cc.Layout;\n    private _resizeMode: cc.Layout.ResizeMode;\n    private _topGap: number;\n    private _rightGap: number;\n    private _bottomGap: number;\n    private _leftGap: number;\n\n    private _columnGap: number;\n    private _lineGap: number;\n    private _colLineNum: number;\n\n    private _lastDisplayData: number[];\n    public displayData: any[];\n    private _pool: cc.NodePool;\n\n    private _itemTmp: any;\n    private _needUpdateWidget: boolean = false;\n    private _itemSize: cc.Size;\n    private _sizeType: boolean;\n\n    public _customSize: any;\n\n    private frameCount: number;\n    private _aniDelRuning: boolean = false;\n    private viewTop: number;\n    private viewRight: number;\n    private viewBottom: number;\n    private viewLeft: number;\n\n    private _doneAfterUpdate: boolean = false;\n\n    private elasticTop: number;\n    private elasticRight: number;\n    private elasticBottom: number;\n    private elasticLeft: number;\n\n    private scrollToListId: number;\n\n    private adhering: boolean = false;\n\n    private _adheringBarrier: boolean = false;\n    private nearestListId: number;\n\n    public curPageNum: number = 0;\n    private _beganPos: number;\n    private _scrollPos: number;\n\n    private _scrollToListId: number;\n    private _scrollToEndTime: number;\n    private _scrollToSo: any;\n\n    private _lack: boolean;\n    private _allItemSize: number;\n    private _allItemSizeNoEdge: number;\n\n    private _scrollItem: any;// ScrollView  Item\n\n    //----------------------------------------------------------------------------\n\n    onLoad() {\n        this._init();\n    }\n\n    onDestroy() {\n        let t: any = this;\n        if (t._itemTmp && t._itemTmp.isValid)\n            t._itemTmp.destroy();\n        if (t.tmpNode && t.tmpNode.isValid)\n            t.tmpNode.destroy();\n        // let total = t._pool.size();\n        while (t._pool.size()) {\n            let node = t._pool.get();\n            node.destroy();\n        }\n        // if (total)\n        //     cc.log('-----------------' + t.node.name + '<List> destroy node total num. =>', total);\n    }\n\n    onEnable() {\n        // if (!CC_EDITOR) \n        this._registerEvent();\n        this._init();\n    }\n\n    onDisable() {\n        // if (!CC_EDITOR) \n        this._unregisterEvent();\n    }\n    //\n    _registerEvent() {\n        let t: any = this;\n        t.node.on(cc.Node.EventType.TOUCH_START, t._onTouchStart, t, true);\n        t.node.on('touch-up', t._onTouchUp, t);\n        t.node.on(cc.Node.EventType.TOUCH_CANCEL, t._onTouchCancelled, t, true);\n        t.node.on('scroll-began', t._onScrollBegan, t, true);\n        t.node.on('scroll-ended', t._onScrollEnded, t, true);\n        t.node.on('scrolling', t._onScrolling, t, true);\n        t.node.on(cc.Node.EventType.SIZE_CHANGED, t._onSizeChanged, t);\n    }\n    //\n    _unregisterEvent() {\n        let t: any = this;\n        t.node.off(cc.Node.EventType.TOUCH_START, t._onTouchStart, t, true);\n        t.node.off('touch-up', t._onTouchUp, t);\n        t.node.off(cc.Node.EventType.TOUCH_CANCEL, t._onTouchCancelled, t, true);\n        t.node.off('scroll-began', t._onScrollBegan, t, true);\n        t.node.off('scroll-ended', t._onScrollEnded, t, true);\n        t.node.off('scrolling', t._onScrolling, t, true);\n        t.node.off(cc.Node.EventType.SIZE_CHANGED, t._onSizeChanged, t);\n    }\n    //..\n    _init() {\n        let t: any = this;\n        if (t._inited)\n            return;\n\n        t._scrollView = t.node.getComponent(cc.ScrollView);\n\n        t.content = t._scrollView.content;\n        if (!t.content) {\n            cc.error(t.node.name + \"'s cc.ScrollView unset content!\");\n            return;\n        }\n\n        t._layout = t.content.getComponent(cc.Layout);\n\n        t._align = t._layout.type; //\n        t._resizeMode = t._layout.resizeMode; //\n        t._startAxis = t._layout.startAxis;\n\n        t._topGap = t._layout.paddingTop; //\n        t._rightGap = t._layout.paddingRight; //\n        t._bottomGap = t._layout.paddingBottom; //\n        t._leftGap = t._layout.paddingLeft; //\n\n        t._columnGap = t._layout.spacingX; //\n        t._lineGap = t._layout.spacingY; //\n\n        t._colLineNum; //GRID=1;\n\n        t._verticalDir = t._layout.verticalDirection; //\n        t._horizontalDir = t._layout.horizontalDirection; //\n\n        t.setTemplateItem(cc.instantiate(t.templateType == TemplateType.PREFAB ? t.tmpPrefab : t.tmpNode));\n\n        // \n        if (t._slideMode == SlideType.ADHERING || t._slideMode == SlideType.PAGE) {\n            t._scrollView.inertia = false;\n            t._scrollView._onMouseWheel = function () {\n                return;\n            };\n        }\n        if (!t.virtual)         // lackCenter  Virtual \n            t.lackCenter = false;\n\n        t._lastDisplayData = []; //\n        t.displayData = []; //\n        t._pool = new cc.NodePool();    //..\n        t._forceUpdate = false;         //\n        t._updateCounter = 0;           //\n        t._updateDone = true;           //\n\n        t.curPageNum = 0;               //\n\n        if (t.cyclic || 0) {\n            t._scrollView._processAutoScrolling = this._processAutoScrolling.bind(t);\n            t._scrollView._startBounceBackIfNeeded = function () {\n                return false;\n            }\n            // t._scrollView._scrollChildren = function () {\n            //     return false;\n            // }\n        }\n\n        switch (t._align) {\n            case cc.Layout.Type.HORIZONTAL: {\n                switch (t._horizontalDir) {\n                    case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:\n                        t._alignCalcType = 1;\n                        break;\n                    case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:\n                        t._alignCalcType = 2;\n                        break;\n                }\n                break;\n            }\n            case cc.Layout.Type.VERTICAL: {\n                switch (t._verticalDir) {\n                    case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:\n                        t._alignCalcType = 3;\n                        break;\n                    case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:\n                        t._alignCalcType = 4;\n                        break;\n                }\n                break;\n            }\n            case cc.Layout.Type.GRID: {\n                switch (t._startAxis) {\n                    case cc.Layout.AxisDirection.HORIZONTAL:\n                        switch (t._verticalDir) {\n                            case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:\n                                t._alignCalcType = 3;\n                                break;\n                            case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:\n                                t._alignCalcType = 4;\n                                break;\n                        }\n                        break;\n                    case cc.Layout.AxisDirection.VERTICAL:\n                        switch (t._horizontalDir) {\n                            case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:\n                                t._alignCalcType = 1;\n                                break;\n                            case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:\n                                t._alignCalcType = 2;\n                                break;\n                        }\n                        break;\n                }\n                break;\n            }\n        }\n        //  content\n        // t.content.children.forEach((child: cc.Node) => {\n        //     child.removeFromParent();\n        //     if (child != t.tmpNode && child.isValid)\n        //         child.destroy();\n        // });\n        t.content.removeAllChildren();\n        t._inited = true;\n    }\n    /**\n     * cc.ScrollView\n     * @param {Number} dt\n     */\n    _processAutoScrolling(dt: number) {\n        // let isAutoScrollBrake = this._scrollView._isNecessaryAutoScrollBrake();\n        let brakingFactor: number = 1;\n        this._scrollView['_autoScrollAccumulatedTime'] += dt * (1 / brakingFactor);\n\n        let percentage: number = Math.min(1, this._scrollView['_autoScrollAccumulatedTime'] / this._scrollView['_autoScrollTotalTime']);\n        if (this._scrollView['_autoScrollAttenuate']) {\n            let time: number = percentage - 1;\n            percentage = time * time * time * time * time + 1;\n        }\n\n        let newPosition: any = this._scrollView['_autoScrollStartPosition'].add(this._scrollView['_autoScrollTargetDelta'].mul(percentage));\n        let EPSILON: number = this._scrollView['getScrollEndedEventTiming']();\n        let reachedEnd: boolean = Math.abs(percentage - 1) <= EPSILON;\n        // cc.log(reachedEnd, Math.abs(percentage - 1), EPSILON)\n\n        let fireEvent: boolean = Math.abs(percentage - 1) <= this._scrollView['getScrollEndedEventTiming']();\n        if (fireEvent && !this._scrollView['_isScrollEndedWithThresholdEventFired']) {\n            this._scrollView['_dispatchEvent']('scroll-ended-with-threshold');\n            this._scrollView['_isScrollEndedWithThresholdEventFired'] = true;\n        }\n\n        // if (this._scrollView.elastic && !reachedEnd) {\n        //     let brakeOffsetPosition = newPosition.sub(this._scrollView._autoScrollBrakingStartPosition);\n        //     if (isAutoScrollBrake) {\n        //         brakeOffsetPosition = brakeOffsetPosition.mul(brakingFactor);\n        //     }\n        //     newPosition = this._scrollView._autoScrollBrakingStartPosition.add(brakeOffsetPosition);\n        // } else {\n        //     let moveDelta = newPosition.sub(this._scrollView.getContentPosition());\n        //     let outOfBoundary = this._scrollView._getHowMuchOutOfBoundary(moveDelta);\n        //     if (!outOfBoundary.fuzzyEquals(cc.v2(0, 0), EPSILON)) {\n        //         newPosition = newPosition.add(outOfBoundary);\n        //         reachedEnd = true;\n        //     }\n        // }\n\n        if (reachedEnd) {\n            this._scrollView['_autoScrolling'] = false;\n        }\n\n        let deltaMove: any = newPosition.sub(this._scrollView.getContentPosition());\n        // cc.log(deltaMove)\n        this._scrollView['_moveContent'](this._scrollView['_clampDelta'](deltaMove), reachedEnd);\n        this._scrollView['_dispatchEvent']('scrolling');\n\n        // scollTo API controll move\n        if (!this._scrollView['_autoScrolling']) {\n            this._scrollView['_isBouncing'] = false;\n            this._scrollView['_scrolling'] = false;\n            this._scrollView['_dispatchEvent']('scroll-ended');\n        }\n    }\n    //Item\n    setTemplateItem(item: any) {\n        if (!item)\n            return;\n        let t: any = this;\n        t._itemTmp = item;\n\n        if (t._resizeMode == cc.Layout.ResizeMode.CHILDREN)\n            t._itemSize = t._layout.cellSize;\n        else\n            t._itemSize = cc.size(item.width, item.height);\n\n        //ListItem\n        let com = item.getComponent(ListItem);\n        let remove = false;\n        if (!com)\n            remove = true;\n        // if (com) {\n        //     if (!com._btnCom && !item.getComponent(cc.Button)) {\n        //         remove = true;\n        //     }\n        // }\n        if (remove) {\n            t.selectedMode = SelectedType.NONE;\n        }\n        com = item.getComponent(cc.Widget);\n        if (com && com.enabled) {\n            t._needUpdateWidget = true;\n        }\n        if (t.selectedMode == SelectedType.MULT)\n            t.multSelected = [];\n\n        switch (t._align) {\n            case cc.Layout.Type.HORIZONTAL:\n                t._colLineNum = 1;\n                t._sizeType = false;\n                break;\n            case cc.Layout.Type.VERTICAL:\n                t._colLineNum = 1;\n                t._sizeType = true;\n                break;\n            case cc.Layout.Type.GRID:\n                switch (t._startAxis) {\n                    case cc.Layout.AxisDirection.HORIZONTAL:\n                        //\n                        let trimW: number = t.content.width - t._leftGap - t._rightGap;\n                        t._colLineNum = Math.floor((trimW + t._columnGap) / (t._itemSize.width + t._columnGap));\n                        t._sizeType = true;\n                        break;\n                    case cc.Layout.AxisDirection.VERTICAL:\n                        //\n                        let trimH: number = t.content.height - t._topGap - t._bottomGap;\n                        t._colLineNum = Math.floor((trimH + t._lineGap) / (t._itemSize.height + t._lineGap));\n                        t._sizeType = false;\n                        break;\n                }\n                break;\n        }\n    }\n    /**\n     * \n     * @param {Boolean} printLog \n     * @returns\n     */\n    checkInited(printLog: boolean = true) {\n        if (!this._inited) {\n            if (printLog)\n                cc.error('List initialization not completed!');\n            return false;\n        }\n        return true;\n    }\n    // Layout  Content Size\n    _resizeContent() {\n        let t: any = this;\n        let result: number;\n\n        switch (t._align) {\n            case cc.Layout.Type.HORIZONTAL: {\n                if (t._customSize) {\n                    let fixed: any = t._getFixedSize(null);\n                    result = t._leftGap + fixed.val + (t._itemSize.width * (t._numItems - fixed.count)) + (t._columnGap * (t._numItems - 1)) + t._rightGap;\n                } else {\n                    result = t._leftGap + (t._itemSize.width * t._numItems) + (t._columnGap * (t._numItems - 1)) + t._rightGap;\n                }\n                break;\n            }\n            case cc.Layout.Type.VERTICAL: {\n                if (t._customSize) {\n                    let fixed: any = t._getFixedSize(null);\n                    result = t._topGap + fixed.val + (t._itemSize.height * (t._numItems - fixed.count)) + (t._lineGap * (t._numItems - 1)) + t._bottomGap;\n                } else {\n                    result = t._topGap + (t._itemSize.height * t._numItems) + (t._lineGap * (t._numItems - 1)) + t._bottomGap;\n                }\n                break;\n            }\n            case cc.Layout.Type.GRID: {\n                //\n                if (t.lackCenter)\n                    t.lackCenter = false;\n                switch (t._startAxis) {\n                    case cc.Layout.AxisDirection.HORIZONTAL:\n                        let lineNum: number = Math.ceil(t._numItems / t._colLineNum);\n                        result = t._topGap + (t._itemSize.height * lineNum) + (t._lineGap * (lineNum - 1)) + t._bottomGap;\n                        break;\n                    case cc.Layout.AxisDirection.VERTICAL:\n                        let colNum: number = Math.ceil(t._numItems / t._colLineNum);\n                        result = t._leftGap + (t._itemSize.width * colNum) + (t._columnGap * (colNum - 1)) + t._rightGap;\n                        break;\n                }\n                break;\n            }\n        }\n\n        let layout: cc.Layout = t.content.getComponent(cc.Layout);\n        if (layout)\n            layout.enabled = false;\n\n        t._allItemSize = result;\n        t._allItemSizeNoEdge = t._allItemSize - (t._sizeType ? (t._topGap + t._bottomGap) : (t._leftGap + t._rightGap));\n\n        if (t.cyclic) {\n            let totalSize: number = (t._sizeType ? t.node.height : t.node.width);\n\n            t._cyclicPos1 = 0;\n            totalSize -= t._cyclicPos1;\n            t._cyclicNum = Math.ceil(totalSize / t._allItemSizeNoEdge) + 1;\n            let spacing: number = t._sizeType ? t._lineGap : t._columnGap;\n            t._cyclicPos2 = t._cyclicPos1 + t._allItemSizeNoEdge + spacing;\n            t._cyclicAllItemSize = t._allItemSize + (t._allItemSizeNoEdge * (t._cyclicNum - 1)) + (spacing * (t._cyclicNum - 1));\n            t._cycilcAllItemSizeNoEdge = t._allItemSizeNoEdge * t._cyclicNum;\n            t._cycilcAllItemSizeNoEdge += spacing * (t._cyclicNum - 1);\n            // cc.log('_cyclicNum ->', t._cyclicNum, t._allItemSizeNoEdge, t._allItemSize, t._cyclicPos1, t._cyclicPos2);\n        }\n\n        t._lack = !t.cyclic && t._allItemSize < (t._sizeType ? t.node.height : t.node.width);\n        let slideOffset: number = ((!t._lack || !t.lackCenter) && t.lackSlide) ? 0 : .1;\n\n        let targetWH: number = t._lack ? ((t._sizeType ? t.node.height : t.node.width) - slideOffset) : (t.cyclic ? t._cyclicAllItemSize : t._allItemSize);\n        if (targetWH < 0)\n            targetWH = 0;\n\n        if (t._sizeType) {\n            t.content.height = targetWH;\n        } else {\n            t.content.width = targetWH;\n        }\n\n        // cc.log('_resizeContent()  numItems =', t._numItems, 'content =', t.content);\n    }\n\n    //...\n    _onScrolling(ev: cc.Event = null) {\n        if (this.frameCount == null)\n            this.frameCount = this._updateRate;\n        if (!this._forceUpdate && (ev && ev.type != 'scroll-ended') && this.frameCount > 0) {\n            this.frameCount--;\n            return;\n        } else\n            this.frameCount = this._updateRate;\n\n        if (this._aniDelRuning)\n            return;\n\n        //\n        if (this.cyclic) {\n            let scrollPos: any = this.content.getPosition();\n            scrollPos = this._sizeType ? scrollPos.y : scrollPos.x;\n\n            let addVal = this._allItemSizeNoEdge + (this._sizeType ? this._lineGap : this._columnGap);\n            let add: any = this._sizeType ? cc.v2(0, addVal) : cc.v2(addVal, 0);\n\n            switch (this._alignCalcType) {\n                case 1://HORIZONTALLEFT_TO_RIGHTVERTICALLEFT_TO_RIGHT\n                    if (scrollPos > -this._cyclicPos1) {\n                        this.content.x = -this._cyclicPos2;\n                        if (this._scrollView.isAutoScrolling()) {\n                            this._scrollView['_autoScrollStartPosition'] = this._scrollView['_autoScrollStartPosition'].sub(add);\n                        }\n                        // if (this._beganPos) {\n                        //     this._beganPos += add;\n                        // }\n                    } else if (scrollPos < -this._cyclicPos2) {\n                        this.content.x = -this._cyclicPos1;\n                        if (this._scrollView.isAutoScrolling()) {\n                            this._scrollView['_autoScrollStartPosition'] = this._scrollView['_autoScrollStartPosition'].add(add);\n                        }\n                        // if (this._beganPos) {\n                        //     this._beganPos -= add;\n                        // }\n                    }\n                    break;\n                case 2://HORIZONTALRIGHT_TO_LEFTVERTICALRIGHT_TO_LEFT\n                    if (scrollPos < this._cyclicPos1) {\n                        this.content.x = this._cyclicPos2;\n                        if (this._scrollView.isAutoScrolling()) {\n                            this._scrollView['_autoScrollStartPosition'] = this._scrollView['_autoScrollStartPosition'].add(add);\n                        }\n                    } else if (scrollPos > this._cyclicPos2) {\n                        this.content.x = this._cyclicPos1;\n                        if (this._scrollView.isAutoScrolling()) {\n                            this._scrollView['_autoScrollStartPosition'] = this._scrollView['_autoScrollStartPosition'].sub(add);\n                        }\n                    }\n                    break;\n                case 3://VERTICALTOP_TO_BOTTOMHORIZONTALTOP_TO_BOTTOM\n                    if (scrollPos < this._cyclicPos1) {\n                        this.content.y = this._cyclicPos2;\n                        if (this._scrollView.isAutoScrolling()) {\n                            this._scrollView['_autoScrollStartPosition'] = this._scrollView['_autoScrollStartPosition'].add(add);\n                        }\n                    } else if (scrollPos > this._cyclicPos2) {\n                        this.content.y = this._cyclicPos1;\n                        if (this._scrollView.isAutoScrolling()) {\n                            this._scrollView['_autoScrollStartPosition'] = this._scrollView['_autoScrollStartPosition'].sub(add);\n                        }\n                    }\n                    break;\n                case 4://VERTICALBOTTOM_TO_TOPHORIZONTALBOTTOM_TO_TOP\n                    if (scrollPos > -this._cyclicPos1) {\n                        this.content.y = -this._cyclicPos2;\n                        if (this._scrollView.isAutoScrolling()) {\n                            this._scrollView['_autoScrollStartPosition'] = this._scrollView['_autoScrollStartPosition'].sub(add);\n                        }\n                    } else if (scrollPos < -this._cyclicPos2) {\n                        this.content.y = -this._cyclicPos1;\n                        if (this._scrollView.isAutoScrolling()) {\n                            this._scrollView['_autoScrollStartPosition'] = this._scrollView['_autoScrollStartPosition'].add(add);\n                        }\n                    }\n                    break;\n            }\n        }\n\n        this._calcViewPos();\n\n        let vTop: number, vRight: number, vBottom: number, vLeft: number;\n        if (this._sizeType) {\n            vTop = this.viewTop;\n            vBottom = this.viewBottom;\n        } else {\n            vRight = this.viewRight;\n            vLeft = this.viewLeft;\n        }\n\n        if (this._virtual) {\n            this.displayData = [];\n            let itemPos: any;\n\n            let curId: number = 0;\n            let endId: number = this._numItems - 1;\n\n            if (this._customSize) {\n                let breakFor: boolean = false;\n                //itemdisplayData\n                for (; curId <= endId && !breakFor; curId++) {\n                    itemPos = this._calcItemPos(curId);\n                    switch (this._align) {\n                        case cc.Layout.Type.HORIZONTAL:\n                            if (itemPos.right >= vLeft && itemPos.left <= vRight) {\n                                this.displayData.push(itemPos);\n                            } else if (curId != 0 && this.displayData.length > 0) {\n                                breakFor = true;\n                            }\n                            break;\n                        case cc.Layout.Type.VERTICAL:\n                            if (itemPos.bottom <= vTop && itemPos.top >= vBottom) {\n                                this.displayData.push(itemPos);\n                            } else if (curId != 0 && this.displayData.length > 0) {\n                                breakFor = true;\n                            }\n                            break;\n                        case cc.Layout.Type.GRID:\n                            switch (this._startAxis) {\n                                case cc.Layout.AxisDirection.HORIZONTAL:\n                                    if (itemPos.bottom <= vTop && itemPos.top >= vBottom) {\n                                        this.displayData.push(itemPos);\n                                    } else if (curId != 0 && this.displayData.length > 0) {\n                                        breakFor = true;\n                                    }\n                                    break;\n                                case cc.Layout.AxisDirection.VERTICAL:\n                                    if (itemPos.right >= vLeft && itemPos.left <= vRight) {\n                                        this.displayData.push(itemPos);\n                                    } else if (curId != 0 && this.displayData.length > 0) {\n                                        breakFor = true;\n                                    }\n                                    break;\n                            }\n                            break;\n                    }\n                }\n            } else {\n                let ww: number = this._itemSize.width + this._columnGap;\n                let hh: number = this._itemSize.height + this._lineGap;\n                switch (this._alignCalcType) {\n                    case 1://HORIZONTALLEFT_TO_RIGHTVERTICALLEFT_TO_RIGHT\n                        curId = (vLeft + this._leftGap) / ww;\n                        endId = (vRight + this._rightGap) / ww;\n                        break;\n                    case 2://HORIZONTALRIGHT_TO_LEFTVERTICALRIGHT_TO_LEFT\n                        curId = (-vRight - this._rightGap) / ww;\n                        endId = (-vLeft - this._leftGap) / ww;\n                        break;\n                    case 3://VERTICALTOP_TO_BOTTOMHORIZONTALTOP_TO_BOTTOM\n                        curId = (-vTop - this._topGap) / hh;\n                        endId = (-vBottom - this._bottomGap) / hh;\n                        break;\n                    case 4://VERTICALBOTTOM_TO_TOPHORIZONTALBOTTOM_TO_TOP\n                        curId = (vBottom + this._bottomGap) / hh;\n                        endId = (vTop + this._topGap) / hh;\n                        break;\n                }\n                curId = Math.floor(curId) * this._colLineNum;\n                endId = Math.ceil(endId) * this._colLineNum;\n                endId--;\n                if (curId < 0)\n                    curId = 0;\n                if (endId >= this._numItems)\n                    endId = this._numItems - 1;\n                for (; curId <= endId; curId++) {\n                    this.displayData.push(this._calcItemPos(curId));\n                }\n            }\n            this._delRedundantItem();\n            if (this.displayData.length <= 0 || !this._numItems) { //if none, delete all.\n                this._lastDisplayData = [];\n                return;\n            }\n            this.firstListId = this.displayData[0].id;\n            this.displayItemNum = this.displayData.length;\n\n            let len: number = this._lastDisplayData.length;\n\n            let haveDataChange: boolean = this.displayItemNum != len;\n            if (haveDataChange) {\n                // \n                if (this.frameByFrameRenderNum > 0) {\n                    this._lastDisplayData.sort((a, b) => { return a - b });\n                }\n                // List\n                haveDataChange = this.firstListId != this._lastDisplayData[0] || this.displayData[this.displayItemNum - 1].id != this._lastDisplayData[len - 1];\n            }\n\n            if (this._forceUpdate || haveDataChange) {    //\n                if (this.frameByFrameRenderNum > 0) {\n                    // if (this._updateDone) {\n                    // this._lastDisplayData = [];\n                    //\n                    if (this._numItems > 0) {\n                        if (!this._updateDone) {\n                            this._doneAfterUpdate = true;\n                        } else {\n                            this._updateCounter = 0;\n                        }\n                        this._updateDone = false;\n                    } else {\n                        this._updateCounter = 0;\n                        this._updateDone = true;\n                    }\n                    // }\n                } else {\n                    //\n                    this._lastDisplayData = [];\n                    // cc.log('List Display Data II::', this.displayData);\n                    for (let c = 0; c < this.displayItemNum; c++) {\n                        this._createOrUpdateItem(this.displayData[c]);\n                    }\n                    this._forceUpdate = false;\n                }\n            }\n            this._calcNearestItem();\n        }\n    }\n    //\n    _calcViewPos() {\n        let scrollPos: any = this.content.getPosition();\n        switch (this._alignCalcType) {\n            case 1://HORIZONTALLEFT_TO_RIGHTVERTICALLEFT_TO_RIGHT\n                this.elasticLeft = scrollPos.x > 0 ? scrollPos.x : 0;\n                this.viewLeft = (scrollPos.x < 0 ? -scrollPos.x : 0) - this.elasticLeft;\n                this.viewRight = this.viewLeft + this.node.width;\n                this.elasticRight = this.viewRight > this.content.width ? Math.abs(this.viewRight - this.content.width) : 0;\n                this.viewRight += this.elasticRight;\n                // cc.log(this.elasticLeft, this.elasticRight, this.viewLeft, this.viewRight);\n                break;\n            case 2://HORIZONTALRIGHT_TO_LEFTVERTICALRIGHT_TO_LEFT\n                this.elasticRight = scrollPos.x < 0 ? -scrollPos.x : 0;\n                this.viewRight = (scrollPos.x > 0 ? -scrollPos.x : 0) + this.elasticRight;\n                this.viewLeft = this.viewRight - this.node.width;\n                this.elasticLeft = this.viewLeft < -this.content.width ? Math.abs(this.viewLeft + this.content.width) : 0;\n                this.viewLeft -= this.elasticLeft;\n                // cc.log(this.elasticLeft, this.elasticRight, this.viewLeft, this.viewRight);\n                break;\n            case 3://VERTICALTOP_TO_BOTTOMHORIZONTALTOP_TO_BOTTOM\n                this.elasticTop = scrollPos.y < 0 ? Math.abs(scrollPos.y) : 0;\n                this.viewTop = (scrollPos.y > 0 ? -scrollPos.y : 0) + this.elasticTop;\n                this.viewBottom = this.viewTop - this.node.height;\n                this.elasticBottom = this.viewBottom < -this.content.height ? Math.abs(this.viewBottom + this.content.height) : 0;\n                this.viewBottom += this.elasticBottom;\n                // cc.log(this.elasticTop, this.elasticBottom, this.viewTop, this.viewBottom);\n                break;\n            case 4://VERTICALBOTTOM_TO_TOPHORIZONTALBOTTOM_TO_TOP\n                this.elasticBottom = scrollPos.y > 0 ? Math.abs(scrollPos.y) : 0;\n                this.viewBottom = (scrollPos.y < 0 ? -scrollPos.y : 0) - this.elasticBottom;\n                this.viewTop = this.viewBottom + this.node.height;\n                this.elasticTop = this.viewTop > this.content.height ? Math.abs(this.viewTop - this.content.height) : 0;\n                this.viewTop -= this.elasticTop;\n                // cc.log(this.elasticTop, this.elasticBottom, this.viewTop, this.viewBottom);\n                break;\n        }\n    }\n    // id\n    _calcItemPos(id: number) {\n        let width: number, height: number, top: number, bottom: number, left: number, right: number, itemX: number, itemY: number;\n        switch (this._align) {\n            case cc.Layout.Type.HORIZONTAL:\n                switch (this._horizontalDir) {\n                    case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT: {\n                        if (this._customSize) {\n                            let fixed: any = this._getFixedSize(id);\n                            left = this._leftGap + ((this._itemSize.width + this._columnGap) * (id - fixed.count)) + (fixed.val + (this._columnGap * fixed.count));\n                            let cs: number = this._customSize[id];\n                            width = (cs > 0 ? cs : this._itemSize.width);\n                        } else {\n                            left = this._leftGap + ((this._itemSize.width + this._columnGap) * id);\n                            width = this._itemSize.width;\n                        }\n                        right = left + width;\n                        if (this.lackCenter) {\n                            let offset: number = (this.content.width / 2) - (this._allItemSizeNoEdge / 2);\n                            left += offset;\n                            right += offset;\n                        }\n                        return {\n                            id: id,\n                            left: left,\n                            right: right,\n                            x: left + (this._itemTmp.anchorX * width),\n                            y: this._itemTmp.y,\n                        };\n                    }\n                    case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT: {\n                        if (this._customSize) {\n                            let fixed: any = this._getFixedSize(id);\n                            right = -this._rightGap - ((this._itemSize.width + this._columnGap) * (id - fixed.count)) - (fixed.val + (this._columnGap * fixed.count));\n                            let cs: number = this._customSize[id];\n                            width = (cs > 0 ? cs : this._itemSize.width);\n                        } else {\n                            right = -this._rightGap - ((this._itemSize.width + this._columnGap) * id);\n                            width = this._itemSize.width;\n                        }\n                        left = right - width;\n                        if (this.lackCenter) {\n                            let offset: number = (this.content.width / 2) - (this._allItemSizeNoEdge / 2);\n                            left -= offset;\n                            right -= offset;\n                        }\n                        return {\n                            id: id,\n                            right: right,\n                            left: left,\n                            x: left + (this._itemTmp.anchorX * width),\n                            y: this._itemTmp.y,\n                        };\n                    }\n                }\n                break;\n            case cc.Layout.Type.VERTICAL: {\n                switch (this._verticalDir) {\n                    case cc.Layout.VerticalDirection.TOP_TO_BOTTOM: {\n                        if (this._customSize) {\n                            let fixed: any = this._getFixedSize(id);\n                            top = -this._topGap - ((this._itemSize.height + this._lineGap) * (id - fixed.count)) - (fixed.val + (this._lineGap * fixed.count));\n                            let cs: number = this._customSize[id];\n                            height = (cs > 0 ? cs : this._itemSize.height);\n                        } else {\n                            top = -this._topGap - ((this._itemSize.height + this._lineGap) * id);\n                            height = this._itemSize.height;\n                        }\n                        bottom = top - height;\n                        if (this.lackCenter) {\n                            let offset: number = (this.content.height / 2) - (this._allItemSizeNoEdge / 2);\n                            top -= offset;\n                            bottom -= offset;\n                        }\n                        return {\n                            id: id,\n                            top: top,\n                            bottom: bottom,\n                            x: this._itemTmp.x,\n                            y: bottom + (this._itemTmp.anchorY * height),\n                        };\n                    }\n                    case cc.Layout.VerticalDirection.BOTTOM_TO_TOP: {\n                        if (this._customSize) {\n                            let fixed: any = this._getFixedSize(id);\n                            bottom = this._bottomGap + ((this._itemSize.height + this._lineGap) * (id - fixed.count)) + (fixed.val + (this._lineGap * fixed.count));\n                            let cs: number = this._customSize[id];\n                            height = (cs > 0 ? cs : this._itemSize.height);\n                        } else {\n                            bottom = this._bottomGap + ((this._itemSize.height + this._lineGap) * id);\n                            height = this._itemSize.height;\n                        }\n                        top = bottom + height;\n                        if (this.lackCenter) {\n                            let offset: number = (this.content.height / 2) - (this._allItemSizeNoEdge / 2);\n                            top += offset;\n                            bottom += offset;\n                        }\n                        return {\n                            id: id,\n                            top: top,\n                            bottom: bottom,\n                            x: this._itemTmp.x,\n                            y: bottom + (this._itemTmp.anchorY * height),\n                        };\n                        break;\n                    }\n                }\n            }\n            case cc.Layout.Type.GRID: {\n                let colLine: number = Math.floor(id / this._colLineNum);\n                switch (this._startAxis) {\n                    case cc.Layout.AxisDirection.HORIZONTAL: {\n                        switch (this._verticalDir) {\n                            case cc.Layout.VerticalDirection.TOP_TO_BOTTOM: {\n                                top = -this._topGap - ((this._itemSize.height + this._lineGap) * colLine);\n                                bottom = top - this._itemSize.height;\n                                itemY = bottom + (this._itemTmp.anchorY * this._itemSize.height);\n                                break;\n                            }\n                            case cc.Layout.VerticalDirection.BOTTOM_TO_TOP: {\n                                bottom = this._bottomGap + ((this._itemSize.height + this._lineGap) * colLine);\n                                top = bottom + this._itemSize.height;\n                                itemY = bottom + (this._itemTmp.anchorY * this._itemSize.height);\n                                break;\n                            }\n                        }\n                        itemX = this._leftGap + ((id % this._colLineNum) * (this._itemSize.width + this._columnGap));\n                        switch (this._horizontalDir) {\n                            case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT: {\n                                itemX += (this._itemTmp.anchorX * this._itemSize.width);\n                                itemX -= (this.content.anchorX * this.content.width);\n                                break;\n                            }\n                            case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT: {\n                                itemX += ((1 - this._itemTmp.anchorX) * this._itemSize.width);\n                                itemX -= ((1 - this.content.anchorX) * this.content.width);\n                                itemX *= -1;\n                                break;\n                            }\n                        }\n                        return {\n                            id: id,\n                            top: top,\n                            bottom: bottom,\n                            x: itemX,\n                            y: itemY,\n                        };\n                    }\n                    case cc.Layout.AxisDirection.VERTICAL: {\n                        switch (this._horizontalDir) {\n                            case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT: {\n                                left = this._leftGap + ((this._itemSize.width + this._columnGap) * colLine);\n                                right = left + this._itemSize.width;\n                                itemX = left + (this._itemTmp.anchorX * this._itemSize.width);\n                                itemX -= (this.content.anchorX * this.content.width);\n                                break;\n                            }\n                            case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT: {\n                                right = -this._rightGap - ((this._itemSize.width + this._columnGap) * colLine);\n                                left = right - this._itemSize.width;\n                                itemX = left + (this._itemTmp.anchorX * this._itemSize.width);\n                                itemX += ((1 - this.content.anchorX) * this.content.width);\n                                break;\n                            }\n                        }\n                        itemY = -this._topGap - ((id % this._colLineNum) * (this._itemSize.height + this._lineGap));\n                        switch (this._verticalDir) {\n                            case cc.Layout.VerticalDirection.TOP_TO_BOTTOM: {\n                                itemY -= ((1 - this._itemTmp.anchorY) * this._itemSize.height);\n                                itemY += ((1 - this.content.anchorY) * this.content.height);\n                                break;\n                            }\n                            case cc.Layout.VerticalDirection.BOTTOM_TO_TOP: {\n                                itemY -= ((this._itemTmp.anchorY) * this._itemSize.height);\n                                itemY += (this.content.anchorY * this.content.height);\n                                itemY *= -1;\n                                break;\n                            }\n                        }\n                        return {\n                            id: id,\n                            left: left,\n                            right: right,\n                            x: itemX,\n                            y: itemY,\n                        };\n                    }\n                }\n                break;\n            }\n        }\n    }\n    //Item\n    _calcExistItemPos(id: number) {\n        let item: any = this.getItemByListId(id);\n        if (!item)\n            return null;\n        let data: any = {\n            id: id,\n            x: item.x,\n            y: item.y,\n        }\n        if (this._sizeType) {\n            data.top = item.y + (item.height * (1 - item.anchorY));\n            data.bottom = item.y - (item.height * item.anchorY);\n        } else {\n            data.left = item.x - (item.width * item.anchorX);\n            data.right = item.x + (item.width * (1 - item.anchorX));\n        }\n        return data;\n    }\n    //Item\n    getItemPos(id: number) {\n        if (this._virtual)\n            return this._calcItemPos(id);\n        else {\n            if (this.frameByFrameRenderNum)\n                return this._calcItemPos(id);\n            else\n                return this._calcExistItemPos(id);\n        }\n    }\n    //\n    _getFixedSize(listId: number) {\n        if (!this._customSize)\n            return null;\n        if (listId == null)\n            listId = this._numItems;\n        let fixed: number = 0;\n        let count: number = 0;\n        for (let id in this._customSize) {\n            if (parseInt(id) < listId) {\n                fixed += this._customSize[id];\n                count++;\n            }\n        }\n        return {\n            val: fixed,\n            count: count,\n        }\n    }\n    //..\n    _onScrollBegan() {\n        this._beganPos = this._sizeType ? this.viewTop : this.viewLeft;\n    }\n    //..\n    _onScrollEnded() {\n        let t: any = this;\n        if (t.scrollToListId != null) {\n            let item: any = t.getItemByListId(t.scrollToListId);\n            t.scrollToListId = null;\n            if (item) {\n                item.runAction(cc.sequence(\n                    cc.scaleTo(.1, 1.06),\n                    cc.scaleTo(.1, 1),\n                    //new cc.callFunc(function (runNode) {\n\n                    // })\n                ));\n            }\n        }\n        t._onScrolling();\n\n        if (t._slideMode == SlideType.ADHERING &&\n            !t.adhering\n        ) {\n            //cc.log(t.adhering, t._scrollView.isAutoScrolling(), t._scrollView.isScrolling());\n            t.adhere();\n        } else if (t._slideMode == SlideType.PAGE) {\n            if (t._beganPos != null) {\n                this._pageAdhere();\n            } else {\n                t.adhere();\n            }\n        }\n    }\n    // \n    _onTouchStart(ev, captureListeners) {\n        if (this._scrollView['_hasNestedViewGroup'](ev, captureListeners))\n            return;\n        let isMe = ev.eventPhase === cc.Event.AT_TARGET && ev.target === this.node;\n        if (!isMe) {\n            let itemNode: any = ev.target;\n            while (itemNode._listId == null && itemNode.parent)\n                itemNode = itemNode.parent;\n            this._scrollItem = itemNode._listId != null ? itemNode : ev.target;\n        }\n    }\n    //..\n    _onTouchUp() {\n        let t: any = this;\n        t._scrollPos = null;\n        if (t._slideMode == SlideType.ADHERING) {\n            if (this.adhering)\n                this._adheringBarrier = true;\n            t.adhere();\n        } else if (t._slideMode == SlideType.PAGE) {\n            if (t._beganPos != null) {\n                this._pageAdhere();\n            } else {\n                t.adhere();\n            }\n        }\n        this._scrollItem = null;\n    }\n\n    _onTouchCancelled(ev, captureListeners) {\n        let t = this;\n        if (t._scrollView['_hasNestedViewGroup'](ev, captureListeners) || ev.simulate)\n            return;\n\n        t._scrollPos = null;\n        if (t._slideMode == SlideType.ADHERING) {\n            if (t.adhering)\n                t._adheringBarrier = true;\n            t.adhere();\n        } else if (t._slideMode == SlideType.PAGE) {\n            if (t._beganPos != null) {\n                t._pageAdhere();\n            } else {\n                t.adhere();\n            }\n        }\n        this._scrollItem = null;\n    }\n    //\n    _onSizeChanged() {\n        if (this.checkInited(false))\n            this._onScrolling();\n    }\n    //Item\n    _onItemAdaptive(item) {\n        // if (this.checkInited(false)) {\n        if (\n            (!this._sizeType && item.width != this._itemSize.width)\n            || (this._sizeType && item.height != this._itemSize.height)\n        ) {\n            if (!this._customSize)\n                this._customSize = {};\n            let val = this._sizeType ? item.height : item.width;\n            if (this._customSize[item._listId] != val) {\n                this._customSize[item._listId] = val;\n                this._resizeContent();\n                // this.content.children.forEach((child: cc.Node) => {\n                //     this._updateItemPos(child);\n                // });\n                this.updateAll();\n                //  scrollTo\n                if (this._scrollToListId != null) {\n                    this._scrollPos = null;\n                    this.unschedule(this._scrollToSo);\n                    this.scrollTo(this._scrollToListId, Math.max(0, this._scrollToEndTime - ((new Date()).getTime() / 1000)));\n                }\n            }\n        }\n        // }\n    }\n    //PAGE\n    _pageAdhere() {\n        let t = this;\n        if (!t.cyclic && (t.elasticTop > 0 || t.elasticRight > 0 || t.elasticBottom > 0 || t.elasticLeft > 0))\n            return;\n        let curPos = t._sizeType ? t.viewTop : t.viewLeft;\n        let dis = (t._sizeType ? t.node.height : t.node.width) * t.pageDistance;\n        let canSkip = Math.abs(t._beganPos - curPos) > dis;\n        if (canSkip) {\n            let timeInSecond = .5;\n            switch (t._alignCalcType) {\n                case 1://HORIZONTALLEFT_TO_RIGHTVERTICALLEFT_TO_RIGHT\n                case 4://VERTICALBOTTOM_TO_TOPHORIZONTALBOTTOM_TO_TOP\n                    if (t._beganPos > curPos) {\n                        t.prePage(timeInSecond);\n                        // cc.log('_pageAdhere   PPPPPPPPPPPPPPP');\n                    } else {\n                        t.nextPage(timeInSecond);\n                        // cc.log('_pageAdhere   NNNNNNNNNNNNNNN');\n                    }\n                    break;\n                case 2://HORIZONTALRIGHT_TO_LEFTVERTICALRIGHT_TO_LEFT\n                case 3://VERTICALTOP_TO_BOTTOMHORIZONTALTOP_TO_BOTTOM\n                    if (t._beganPos < curPos) {\n                        t.prePage(timeInSecond);\n                    } else {\n                        t.nextPage(timeInSecond);\n                    }\n                    break;\n            }\n        } else if (t.elasticTop <= 0 && t.elasticRight <= 0 && t.elasticBottom <= 0 && t.elasticLeft <= 0) {\n            t.adhere();\n        }\n        t._beganPos = null;\n    }\n    //\n    adhere() {\n        let t: any = this;\n        if (!t.checkInited())\n            return;\n        if (t.elasticTop > 0 || t.elasticRight > 0 || t.elasticBottom > 0 || t.elasticLeft > 0)\n            return;\n        t.adhering = true;\n        t._calcNearestItem();\n        let offset: number = (t._sizeType ? t._topGap : t._leftGap) / (t._sizeType ? t.node.height : t.node.width);\n        let timeInSecond: number = .7;\n        t.scrollTo(t.nearestListId, timeInSecond, offset);\n    }\n    //Update..\n    update() {\n        if (this.frameByFrameRenderNum <= 0 || this._updateDone)\n            return;\n        // cc.log(this.displayData.length, this._updateCounter, this.displayData[this._updateCounter]);\n        if (this._virtual) {\n            let len: number = (this._updateCounter + this.frameByFrameRenderNum) > this.displayItemNum ? this.displayItemNum : (this._updateCounter + this.frameByFrameRenderNum);\n            for (let n: number = this._updateCounter; n < len; n++) {\n                let data: any = this.displayData[n];\n                if (data) {\n                    this._createOrUpdateItem(data);\n                }\n            }\n\n            if (this._updateCounter >= this.displayItemNum - 1) { //\n                if (this._doneAfterUpdate) {\n                    this._updateCounter = 0;\n                    this._updateDone = false;\n                    // if (!this._scrollView.isScrolling())\n                    this._doneAfterUpdate = false;\n                } else {\n                    this._updateDone = true;\n                    this._delRedundantItem();\n                    this._forceUpdate = false;\n                    this._calcNearestItem();\n                    if (this.slideMode == SlideType.PAGE)\n                        this.curPageNum = this.nearestListId;\n                }\n            } else {\n                this._updateCounter += this.frameByFrameRenderNum;\n            }\n        } else {\n            if (this._updateCounter < this._numItems) {\n                let len: number = (this._updateCounter + this.frameByFrameRenderNum) > this._numItems ? this._numItems : (this._updateCounter + this.frameByFrameRenderNum);\n                for (let n: number = this._updateCounter; n < len; n++) {\n                    this._createOrUpdateItem2(n);\n                }\n                this._updateCounter += this.frameByFrameRenderNum;\n            } else {\n                this._updateDone = true;\n                this._calcNearestItem();\n                if (this.slideMode == SlideType.PAGE)\n                    this.curPageNum = this.nearestListId;\n            }\n        }\n    }\n    /**\n     * Item\n     * @param {Object} data \n     */\n    _createOrUpdateItem(data: any) {\n        let item: any = this.getItemByListId(data.id);\n        if (!item) { //\n            let canGet: boolean = this._pool.size() > 0;\n            if (canGet) {\n                item = this._pool.get();\n                // cc.log('::   id =', item['_listId'], 'id =', data.id, item);\n            } else {\n                item = cc.instantiate(this._itemTmp);\n                // cc.log('::', data.id, item);\n            }\n            if (item._listId != data.id) {\n                item._listId = data.id;\n                item.setContentSize(this._itemSize);\n            }\n            item.setPosition(cc.v2(data.x, data.y));\n            this._resetItemSize(item);\n            this.content.addChild(item);\n            if (canGet && this._needUpdateWidget) {\n                let widget: cc.Widget = item.getComponent(cc.Widget);\n                if (widget)\n                    widget.updateAlignment();\n            }\n            item.setSiblingIndex(this.content.childrenCount - 1);\n\n            let listItem: ListItem = item.getComponent(ListItem);\n            item['listItem'] = listItem;\n            if (listItem) {\n                listItem.listId = data.id;\n                listItem.list = this;\n                listItem._registerEvent();\n            }\n            if (this.renderEvent) {\n                cc.Component.EventHandler.emitEvents([this.renderEvent], item, data.id % this._actualNumItems);\n            }\n        } else if (this._forceUpdate && this.renderEvent) { //\n            item.setPosition(cc.v2(data.x, data.y));\n            this._resetItemSize(item);\n            // cc.log('ADD::', data.id, item);\n            if (this.renderEvent) {\n                cc.Component.EventHandler.emitEvents([this.renderEvent], item, data.id % this._actualNumItems);\n            }\n        }\n        this._resetItemSize(item);\n\n        this._updateListItem(item['listItem']);\n        if (this._lastDisplayData.indexOf(data.id) < 0) {\n            this._lastDisplayData.push(data.id);\n        }\n    }\n    //Item\n    _createOrUpdateItem2(listId: number) {\n        let item: any = this.content.children[listId];\n        let listItem: ListItem;\n        if (!item) { //\n            item = cc.instantiate(this._itemTmp);\n            item._listId = listId;\n            this.content.addChild(item);\n            listItem = item.getComponent(ListItem);\n            item['listItem'] = listItem;\n            if (listItem) {\n                listItem.listId = listId;\n                listItem.list = this;\n                listItem._registerEvent();\n            }\n            if (this.renderEvent) {\n                cc.Component.EventHandler.emitEvents([this.renderEvent], item, listId);\n            }\n        } else if (this._forceUpdate && this.renderEvent) { //\n            item._listId = listId;\n            if (listItem)\n                listItem.listId = listId;\n            if (this.renderEvent) {\n                cc.Component.EventHandler.emitEvents([this.renderEvent], item, listId);\n            }\n        }\n        this._updateListItem(listItem);\n        if (this._lastDisplayData.indexOf(listId) < 0) {\n            this._lastDisplayData.push(listId);\n        }\n    }\n\n    _updateListItem(listItem: ListItem) {\n        if (!listItem)\n            return;\n        if (this.selectedMode > SelectedType.NONE) {\n            let item: any = listItem.node;\n            switch (this.selectedMode) {\n                case SelectedType.SINGLE:\n                    listItem.selected = this.selectedId == item._listId;\n                    break;\n                case SelectedType.MULT:\n                    listItem.selected = this.multSelected.indexOf(item._listId) >= 0;\n                    break;\n            }\n        }\n    }\n    //\n    _resetItemSize(item: any) {\n        return;\n        let size: number;\n        if (this._customSize && this._customSize[item._listId]) {\n            size = this._customSize[item._listId];\n        } else {\n            if (this._colLineNum > 1)\n                item.setContentSize(this._itemSize);\n            else\n                size = this._sizeType ? this._itemSize.height : this._itemSize.width;\n        }\n        if (size) {\n            if (this._sizeType)\n                item.height = size;\n            else\n                item.width = size;\n        }\n    }\n    /**\n     * Item\n     * @param {Number||Node} listIdOrItem\n     */\n    _updateItemPos(listIdOrItem: any) {\n        let item: any = isNaN(listIdOrItem) ? listIdOrItem : this.getItemByListId(listIdOrItem);\n        let pos: any = this.getItemPos(item._listId);\n        item.setPosition(pos.x, pos.y);\n    }\n    /**\n     * \n     * @param {Array} args listIdlistId\n     * @param {Boolean} bool nullargs\n     */\n    setMultSelected(args: any, bool: boolean) {\n        let t: any = this;\n        if (!t.checkInited())\n            return;\n        if (!Array.isArray(args)) {\n            args = [args];\n        }\n        if (bool == null) {\n            t.multSelected = args;\n        } else {\n            let listId: number, sub: number;\n            if (bool) {\n                for (let n: number = args.length - 1; n >= 0; n--) {\n                    listId = args[n];\n                    sub = t.multSelected.indexOf(listId);\n                    if (sub < 0) {\n                        t.multSelected.push(listId);\n                    }\n                }\n            } else {\n                for (let n: number = args.length - 1; n >= 0; n--) {\n                    listId = args[n];\n                    sub = t.multSelected.indexOf(listId);\n                    if (sub >= 0) {\n                        t.multSelected.splice(sub, 1);\n                    }\n                }\n            }\n        }\n        t._forceUpdate = true;\n        t._onScrolling();\n    }\n    /**\n     * Item\n     * @param {Array} args listId\n     * @returns\n     */\n    updateItem(args: any) {\n        if (!this.checkInited())\n            return;\n        if (!Array.isArray(args)) {\n            args = [args];\n        }\n        for (let n: number = 0, len: number = args.length; n < len; n++) {\n            let listId: number = args[n];\n            let item: any = this.getItemByListId(listId);\n            if (item)\n                cc.Component.EventHandler.emitEvents([this.renderEvent], item, listId % this._actualNumItems);\n        }\n    }\n    /**\n     * \n     */\n    updateAll() {\n        if (!this.checkInited())\n            return;\n        this.numItems = this.numItems;\n    }\n    /**\n     * ListIDItem\n     * @param {Number} listId\n     * @returns\n     */\n    getItemByListId(listId: number): cc.Node {\n        if (this.content) {\n            for (let n: number = this.content.childrenCount - 1; n >= 0; n--) {\n                let item: any = this.content.children[n];\n                if (item._listId == listId)\n                    return item;\n            }\n        }\n    }\n    /**\n     * Item\n     * @returns\n     */\n    _getOutsideItem() {\n        let item: any;\n        let result: any[] = [];\n        for (let n: number = this.content.childrenCount - 1; n >= 0; n--) {\n            item = this.content.children[n];\n            if (!this.displayData.find(d => d.id == item._listId)) {\n                result.push(item);\n            }\n        }\n        return result;\n    }\n    //Item\n    _delRedundantItem() {\n        if (this._virtual) {\n            let arr: any[] = this._getOutsideItem();\n            for (let n: number = arr.length - 1; n >= 0; n--) {\n                let item: any = arr[n];\n                if (this._scrollItem && item._listId == this._scrollItem._listId)\n                    continue;\n                this._pool.put(item);\n                for (let m: number = this._lastDisplayData.length - 1; m >= 0; m--) {\n                    if (this._lastDisplayData[m] == item._listId) {\n                        this._lastDisplayData.splice(m, 1);\n                        break;\n                    }\n                }\n            }\n            // cc.log('::', str, '    pool.length =', this._pool.length);\n        } else {\n            while (this.content.childrenCount > this._numItems) {\n                this._delSingleItem(this.content.children[this.content.childrenCount - 1]);\n            }\n        }\n    }\n    //Item\n    _delSingleItem(item: any) {\n        // cc.log('DEL::', item['_listId'], item);\n        item.removeFromParent();\n        if (item.destroy)\n            item.destroy();\n        item = null;\n    }\n    /** \n     * Item_virtual=true\n     * numItemsList\n     */\n    aniDelItem(listId: number, callFunc: Function, aniType: number) {\n        let t: any = this;\n\n        if (!t.checkInited() || t.cyclic || !t._virtual)\n            return cc.error('This function is not allowed to be called!');\n\n        if (t._aniDelRuning)\n            return cc.warn('Please wait for the current deletion to finish!');\n\n        let item: any = t.getItemByListId(listId);\n        let listItem: ListItem;\n        if (!item) {\n            callFunc(listId);\n            return;\n        } else {\n            listItem = item.getComponent(ListItem);\n        }\n        t._aniDelRuning = true;\n        let curLastId: number = t.displayData[t.displayData.length - 1].id;\n        let resetSelectedId: boolean = listItem.selected;\n        listItem.showAni(aniType, () => {\n            //\n            let newId: number;\n            if (curLastId < t._numItems - 2) {\n                newId = curLastId + 1;\n            }\n            if (newId != null) {\n                let newData: any = t._calcItemPos(newId);\n                t.displayData.push(newData);\n                if (t._virtual)\n                    t._createOrUpdateItem(newData);\n                else\n                    t._createOrUpdateItem2(newId);\n            } else\n                t._numItems--;\n            if (t.selectedMode == SelectedType.SINGLE) {\n                if (resetSelectedId) {\n                    t._selectedId = -1;\n                } else if (t._selectedId - 1 >= 0) {\n                    t._selectedId--;\n                }\n            } else if (t.selectedMode == SelectedType.MULT && t.multSelected.length) {\n                let sub: number = t.multSelected.indexOf(listId);\n                if (sub >= 0) {\n                    t.multSelected.splice(sub, 1);\n                }\n                //\n                for (let n: number = t.multSelected.length - 1; n >= 0; n--) {\n                    let id: number = t.multSelected[n];\n                    if (id >= listId)\n                        t.multSelected[n]--;\n                }\n            }\n            if (t._customSize) {\n                if (t._customSize[listId])\n                    delete t._customSize[listId];\n                let newCustomSize: any = {};\n                let size: number;\n                for (let id in t._customSize) {\n                    size = t._customSize[id];\n                    let idNumber: number = parseInt(id);\n                    newCustomSize[idNumber - (idNumber >= listId ? 1 : 0)] = size;\n                }\n                t._customSize = newCustomSize;\n            }\n            //Item\n            let sec: number = .2333;\n            let acts: any[], haveCB: boolean;\n            for (let n: number = newId != null ? newId : curLastId; n >= listId + 1; n--) {\n                item = t.getItemByListId(n);\n                if (item) {\n                    let posData: any = t._calcItemPos(n - 1);\n                    acts = [\n                        cc.moveTo(sec, cc.v2(posData.x, posData.y)),\n                    ];\n                    if (n <= listId + 1) {\n                        haveCB = true;\n                        acts.push(cc.callFunc(() => {\n                            t._aniDelRuning = false;\n                            callFunc(listId);\n                        }));\n                    }\n                    if (acts.length > 1)\n                        item.runAction(cc.sequence(acts));\n                    else\n                        item.runAction(acts[0]);\n                }\n            }\n            if (!haveCB) {\n                t._aniDelRuning = false;\n                callFunc(listId);\n            }\n        }, true);\n    }\n    /**\n     * ..\n     * @param {Number} listId <0Item>=_numItemsItem\n     * @param {Number} timeInSecond \n     * @param {Number} offset 0-1\n     * @param {Boolean} overStress Item\n     */\n    scrollTo(listId: number, timeInSecond: number = .5, offset: number = null, overStress: boolean = false) {\n        let t = this;\n        if (!t.checkInited(false))\n            return;\n        // t._scrollView.stopAutoScroll();\n        if (timeInSecond == null)   //0.5\n            timeInSecond = .5;\n        else if (timeInSecond < 0)\n            timeInSecond = 0;\n        if (listId < 0)\n            listId = 0;\n        else if (listId >= t._numItems)\n            listId = t._numItems - 1;\n        // numItemslayout\n        if (!t._virtual && t._layout && t._layout.enabled)\n            t._layout.updateLayout();\n\n        let pos = t.getItemPos(listId);\n        let targetX: number, targetY: number;\n\n        switch (t._alignCalcType) {\n            case 1://HORIZONTALLEFT_TO_RIGHTVERTICALLEFT_TO_RIGHT\n                targetX = pos.left;\n                if (offset != null)\n                    targetX -= t.node.width * offset;\n                else\n                    targetX -= t._leftGap;\n                pos = cc.v2(targetX, 0);\n                break;\n            case 2://HORIZONTALRIGHT_TO_LEFTVERTICALRIGHT_TO_LEFT\n                targetX = pos.right - t.node.width;\n                if (offset != null)\n                    targetX += t.node.width * offset;\n                else\n                    targetX += t._rightGap;\n                pos = cc.v2(targetX + t.content.width, 0);\n                break;\n            case 3://VERTICALTOP_TO_BOTTOMHORIZONTALTOP_TO_BOTTOM\n                targetY = pos.top;\n                if (offset != null)\n                    targetY += t.node.height * offset;\n                else\n                    targetY += t._topGap;\n                pos = cc.v2(0, -targetY);\n                break;\n            case 4://VERTICALBOTTOM_TO_TOPHORIZONTALBOTTOM_TO_TOP\n                targetY = pos.bottom + t.node.height;\n                if (offset != null)\n                    targetY -= t.node.height * offset;\n                else\n                    targetY -= t._bottomGap;\n                pos = cc.v2(0, -targetY + t.content.height);\n                break;\n        }\n        let viewPos: any = t.content.getPosition();\n        viewPos = Math.abs(t._sizeType ? viewPos.y : viewPos.x);\n\n        let comparePos = t._sizeType ? pos.y : pos.x;\n        let runScroll = Math.abs((t._scrollPos != null ? t._scrollPos : viewPos) - comparePos) > .5;\n        // cc.log(runScroll, t._scrollPos, viewPos, comparePos)\n\n        // t._scrollView.stopAutoScroll();\n        if (runScroll) {\n            t._scrollView.scrollToOffset(pos, timeInSecond);\n            t._scrollToListId = listId;\n            t._scrollToEndTime = ((new Date()).getTime() / 1000) + timeInSecond;\n            // cc.log(listId, t.content.width, t.content.getPosition(), pos);\n            t._scrollToSo = t.scheduleOnce(() => {\n                if (!t._adheringBarrier) {\n                    t.adhering = t._adheringBarrier = false;\n                }\n                t._scrollPos =\n                    t._scrollToListId =\n                    t._scrollToEndTime =\n                    t._scrollToSo =\n                    null;\n                //cc.log('2222222222', t._adheringBarrier)\n                if (overStress) {\n                    // t.scrollToListId = listId;\n                    let item = t.getItemByListId(listId);\n                    if (item) {\n                        item.runAction(cc.sequence(\n                            cc.scaleTo(.1, 1.05),\n                            cc.scaleTo(.1, 1),\n                        ));\n                    }\n                }\n            }, timeInSecond + .1);\n\n            if (timeInSecond <= 0) {\n                t._onScrolling();\n            }\n        }\n    }\n    /**\n     * Item\n     */\n    _calcNearestItem() {\n        let t: any = this;\n        t.nearestListId = null;\n        let data: any, center: number;\n\n        if (t._virtual)\n            t._calcViewPos();\n\n        let vTop: number, vRight: number, vBottom: number, vLeft: number;\n        vTop = t.viewTop;\n        vRight = t.viewRight;\n        vBottom = t.viewBottom;\n        vLeft = t.viewLeft;\n\n        let breakFor: boolean = false;\n        for (let n = 0; n < t.content.childrenCount && !breakFor; n += t._colLineNum) {\n            data = t._virtual ? t.displayData[n] : t._calcExistItemPos(n);\n            if (data) {\n                center = t._sizeType ? ((data.top + data.bottom) / 2) : (center = (data.left + data.right) / 2);\n                switch (t._alignCalcType) {\n                    case 1://HORIZONTALLEFT_TO_RIGHTVERTICALLEFT_TO_RIGHT\n                        if (data.right >= vLeft) {\n                            t.nearestListId = data.id;\n                            if (vLeft > center)\n                                t.nearestListId += t._colLineNum;\n                            breakFor = true;\n                        }\n                        break;\n                    case 2://HORIZONTALRIGHT_TO_LEFTVERTICALRIGHT_TO_LEFT\n                        if (data.left <= vRight) {\n                            t.nearestListId = data.id;\n                            if (vRight < center)\n                                t.nearestListId += t._colLineNum;\n                            breakFor = true;\n                        }\n                        break;\n                    case 3://VERTICALTOP_TO_BOTTOMHORIZONTALTOP_TO_BOTTOM\n                        if (data.bottom <= vTop) {\n                            t.nearestListId = data.id;\n                            if (vTop < center)\n                                t.nearestListId += t._colLineNum;\n                            breakFor = true;\n                        }\n                        break;\n                    case 4://VERTICALBOTTOM_TO_TOPHORIZONTALBOTTOM_TO_TOP\n                        if (data.top >= vBottom) {\n                            t.nearestListId = data.id;\n                            if (vBottom > center)\n                                t.nearestListId += t._colLineNum;\n                            breakFor = true;\n                        }\n                        break;\n                }\n            }\n        }\n        //Item..= =||\n        data = t._virtual ? t.displayData[t.displayItemNum - 1] : t._calcExistItemPos(t._numItems - 1);\n        if (data && data.id == t._numItems - 1) {\n            center = t._sizeType ? ((data.top + data.bottom) / 2) : (center = (data.left + data.right) / 2);\n            switch (t._alignCalcType) {\n                case 1://HORIZONTALLEFT_TO_RIGHTVERTICALLEFT_TO_RIGHT\n                    if (vRight > center)\n                        t.nearestListId = data.id;\n                    break;\n                case 2://HORIZONTALRIGHT_TO_LEFTVERTICALRIGHT_TO_LEFT\n                    if (vLeft < center)\n                        t.nearestListId = data.id;\n                    break;\n                case 3://VERTICALTOP_TO_BOTTOMHORIZONTALTOP_TO_BOTTOM\n                    if (vBottom < center)\n                        t.nearestListId = data.id;\n                    break;\n                case 4://VERTICALBOTTOM_TO_TOPHORIZONTALBOTTOM_TO_TOP\n                    if (vTop > center)\n                        t.nearestListId = data.id;\n                    break;\n            }\n        }\n        // cc.log('t.nearestListId =', t.nearestListId);\n    }\n    //\n    prePage(timeInSecond: number = .5) {\n        // cc.log('');\n        if (!this.checkInited())\n            return;\n        this.skipPage(this.curPageNum - 1, timeInSecond);\n    }\n    //\n    nextPage(timeInSecond: number = .5) {\n        // cc.log('');\n        if (!this.checkInited())\n            return;\n        this.skipPage(this.curPageNum + 1, timeInSecond);\n    }\n    //\n    skipPage(pageNum: number, timeInSecond: number) {\n        let t: any = this;\n        if (!t.checkInited())\n            return;\n        if (t._slideMode != SlideType.PAGE)\n            return cc.error('This function is not allowed to be called, Must SlideMode = PAGE!');\n        if (pageNum < 0 || pageNum >= t._numItems)\n            return;\n        if (t.curPageNum == pageNum)\n            return;\n        // cc.log(pageNum);\n        t.curPageNum = pageNum;\n        if (t.pageChangeEvent) {\n            cc.Component.EventHandler.emitEvents([t.pageChangeEvent], pageNum);\n        }\n        t.scrollTo(pageNum, timeInSecond);\n    }\n    // CustomSizecustomSize\n    calcCustomSize(numItems: number) {\n        let t: any = this;\n        if (!t.checkInited())\n            return;\n        if (!t._itemTmp)\n            return cc.error('Unset template item!');\n        if (!t.renderEvent)\n            return cc.error('Unset Render-Event!');\n        t._customSize = {};\n        let temp: any = cc.instantiate(t._itemTmp);\n        t.content.addChild(temp);\n        for (let n: number = 0; n < numItems; n++) {\n            cc.Component.EventHandler.emitEvents([t.renderEvent], temp, n);\n            if (temp.height != t._itemSize.height || temp.width != t._itemSize.width) {\n                t._customSize[n] = t._sizeType ? temp.height : temp.width;\n            }\n        }\n        if (!Object.keys(t._customSize).length)\n            t._customSize = null;\n        temp.removeFromParent();\n        if (temp.destroy)\n            temp.destroy();\n        return t._customSize;\n    }\n}"]}