{"version":3,"sources":["assets/script/netMessage/MessageBuilder.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,uCAAoE;AAEpE,gCAAkC;AAClC,0DAAqD;AAErD;IAA4C,kCAAS;IAArD;QAAA,qEAkBC;QAjBC,YAAM,GAAe,qBAAU,CAAC,QAAQ,CAAC;;IAiB3C,CAAC;IAhBC,6BAAI,GAAJ,UAAK,MAAkB;QACrB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACvB,CAAC;IACD,qCAAY,GAAZ,UAAa,KAAc,EAAE,EAAU,EAAE,OAAmB;QAC1D,OAAO,IAAI,EAAE,CAAC,OAAO,CAAC,EAAC,IAAI,EAAC,EAAE,EAAE,MAAM,EAAE,KAAK,EAAC,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IACpF,CAAC;IACD,qCAAY,GAAZ,UAAa,KAAc;QACzB,OAAO,IAAI,CAAC;IACd,CAAC;IACD,sCAAa,GAAb,UAAc,KAAa,EAAE,EAAU,EAAE,OAAmB;QAC1D,QAAQ,KAAK,EAAE;YACb;gBACA,OAAO,IAAI,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;YAChE,oDAAoD;SACrD;IACH,CAAC;IACH,qBAAC;AAAD,CAlBA,AAkBC,CAlB2C,mBAAS,GAkBpD","file":"","sourceRoot":"/","sourcesContent":["import IMessageBuilder, {MessageType, CodeFormat} from \"./IBuilder\";\nimport * as msg from \"./Message\";\nimport * as pb from \"./PBMessage\";\nimport Singleton from \"../framework/utils/Singleton\";\n\nexport default class MessageBuilder extends Singleton implements IMessageBuilder{\n  format: CodeFormat = CodeFormat.Protobuf;\n  init(format: CodeFormat) {\n    this.format = format;\n  }\n  BuildMessage(topic : string, id: number, payload: Uint8Array): msg.NetBaseMessage {\n    return new pb.Message({'id':id, 'code': topic}).Deserialize(this.format, payload);\n  }\n  BuildRequest(topic : string): msg.NetBaseReq {\n    return null;\n  }\n  BuildResponse(topic: string, id: number, payload: Uint8Array) :msg.NetBaseRespNtf {\n    switch (topic) {\n      default:\n      return new pb.Resp(id, topic).Deserialize(this.format, payload);\n      //msg.SayResp(id).Deserialize(this.format, payload);\n    }\n  }\n}"]}