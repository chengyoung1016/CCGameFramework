{"version":3,"sources":["assets/script/ui/common/UILoadingController.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,qFAAgF;AAChF,sDAAiD;AAE3C,IAAA,KAA8B,EAAE,CAAC,UAAU,EAAzC,OAAO,aAAA,EAAE,IAAI,UAAA,EAAE,QAAQ,cAAkB,CAAC;AAIlD;IAAiD,uCAAO;IAAxD;QAAA,qEAgEC;QA/DA,QAAE,GAA2B,IAAI,CAAC;;IA+DnC,CAAC;IA1DA,oCAAM,GAAN;QACC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,gCAAsB,CAAC,CAAC;IAC1D,CAAC;IAED,mCAAK,GAAL;IAEA,CAAC;IAED,sCAAQ,GAAR;QACC,IAAI,CAAC,IAAI,EAAE,CAAC;IACb,CAAC;IAED,kCAAI,GAAJ;QAAA,iBAkBC;QAjBA,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QAExB,WAAW;QACX,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,cAAc,EAAE,CAAC;QAC5B,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,OAAO,GAAG,CAAC,CAAC;QACvB,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC;QAE3C,MAAM;QACN,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,cAAc,EAAE,CAAC;QACvC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC;aAC7B,EAAE,CAAC,CAAC,EAAE,EAAC,KAAK,EAAE,CAAC,GAAG,EAAC,CAAC;aACpB,aAAa,EAAE;aACf,KAAK,EAAE,CAAA;QAET,IAAI,CAAC,YAAY,CAAC;YACjB,KAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QAC1B,CAAC,EAAE,EAAE,CAAC,CAAA;IACP,CAAC;IAED,kCAAI,GAAJ;QAAA,iBAaC;QAZA,mBAAmB;QACnB,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,cAAc,EAAE,CAAC;QAC5B,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,SAAS,CACnB,EAAE,CAAC,QAAQ,CACV,EAAE,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,EAClB,EAAE,CAAC,QAAQ,CAAC;YACX,KAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QAC1B,CAAC,CAAC,CACF,CACD,CAAC;QACF,MAAM;QACN,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,cAAc,EAAE,CAAC;IACxC,CAAC;IAED,oCAAM,GAAN;IAEA,CAAC;IAED,uCAAS,GAAT;IAEA,CAAC;IAED,uCAAS,GAAT;IAEA,CAAC;IA5DgB,6BAAS,GAAG,0BAA0B,CAAC;IACvC,6BAAS,GAAG,qBAAqB,CAAC;IAJ/B,mBAAmB;QAFvC,OAAO;QACP,IAAI,CAAC,+BAA+B,CAAC;OACjB,mBAAmB,CAgEvC;IAAD,0BAAC;CAhED,AAgEC,CAhEgD,iBAAO,GAgEvD;kBAhEoB,mBAAmB","file":"","sourceRoot":"/","sourcesContent":["import Auto_loadingController from \"../../autoui/common/Auto_loadingController\";\nimport UIFrame from \"../../framework/ui/UIFrame\";\n\nconst { ccclass, menu, property } = cc._decorator;\n\n@ccclass\n@menu(\"UI/common/UILoadingController\")\nexport default class UILoadingController extends UIFrame {\n\tui: Auto_loadingController = null;\n\n\tprotected static prefabUrl = \"common/loadingController\";\n\tprotected static className = \"UILoadingController\";\n\n\tonLoad() {\n\t\tthis.ui = this.node.addComponent(Auto_loadingController);\n\t}\n\n\tstart() {\n\n\t}\n\n\tonEnable() {\n\t\tthis.show();\n\t}\n\n\tshow() {\n\t\tthis.node.active = true;\n\n\t\t//背景从透明边半透明\n\t\tthis.ui.bg.stopAllActions();\n\t\tthis.ui.bg.opacity = 0;\n\t\tthis.ui.bg.runAction(cc.fadeTo(0.24, 180));\n\n\t\t//一直旋转\n\t\tthis.ui.loadingSprite.stopAllActions();\n\t\tcc.tween(this.ui.loadingSprite)\n\t\t\t.by(1, {angle: -360})\n\t\t\t.repeatForever()\n\t\t\t.start()\n\n\t\tthis.scheduleOnce(() => {\n\t\t\tthis.node.active = false;\n\t\t}, 10)\n\t}\n\n\thide() {\n\t\t// 背景从半透明变透明，之后隐藏节点\n\t\tthis.ui.bg.stopAllActions();\n\t\tthis.ui.bg.runAction(\n\t\t\tcc.sequence(\n\t\t\t\tcc.fadeTo(0.24, 0),\n\t\t\t\tcc.callFunc(() => {\n\t\t\t\t\tthis.node.active = false;\n\t\t\t\t})\n\t\t\t)\n\t\t);\n\t\t//停止旋转\n\t\tthis.ui.loadingSprite.stopAllActions();\n\t}\n\n\tupdate() {\n\n\t}\n\n\tonDisable() {\n\n\t}\n\n\tonDestroy() {\n\t\t\n\t}\n}"]}